---
ms.date: 2017-06-12
contributor: JKeithB
ms.topic: conceptual
keywords: galeria,powershell,cmdlet,psgallery
description: Diretrizes para publicadores
title: "Diretrizes e práticas recomendadas da Galeria do PowerShell"
ms.openlocfilehash: 8c3d1862c68c4a5d6f3e42d603c027fd0f472190
ms.sourcegitcommit: 79e8f03afb8d0b0bb0a167e56464929b27f51990
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/26/2017
---
## <a name="powershellgallery-publishing-guidelines-and-best-practices"></a><span data-ttu-id="6ebe0-104">Diretrizes e práticas recomendadas da Galeria do PowerShell</span><span class="sxs-lookup"><span data-stu-id="6ebe0-104">PowerShellGallery Publishing Guidelines and Best Practices</span></span>

<span data-ttu-id="6ebe0-105">Este tópico descreve as etapas recomendadas usadas pelas equipes da Microsoft para garantir que os itens publicados na Galeria do PowerShell sejam amplamente adotados e forneçam um valor alto para os usuários, com base em como a Galeria do PowerShell lida com os dados de manifesto e nos comentários de um grande número de usuários da Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-105">This topic describes recommended steps used by Microsoft teams to ensure the items published to the PowerShell Gallery will be widely adopted and provide high value to users, based on how the PowerShell Gallery handles manifest data and on feedback from large numbers of PowerShell Gallery users.</span></span> <span data-ttu-id="6ebe0-106">Os itens que forem publicados seguindo essas diretrizes terão maior probabilidade de ser instalados, de ganhar confiança e de atrair mais usuários.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-106">Items that are published following these guidelines will be more likely to be installed, trusted, and attract more users.</span></span>

<span data-ttu-id="6ebe0-107">Abaixo estão as diretrizes para que um item da Galeria do PowerShell seja o ideal, quais configurações opcionais de manifesto são mais importantes, melhorias do código com comentários de revisores inicias e do [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer), controle de versão de seu módulo, documentação, testes e exemplos de como usar o que você compartilhou.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-107">Included below are guidelines for what makes a good PowerShell Gallery item, what optional Manifest settings are most important, improving your code with feedback from initial reviewers and [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer), versioning your module, documentation, tests & examples for how to use what you have shared.</span></span> <span data-ttu-id="6ebe0-108">Grande parte desta documentação segue as diretrizes para publicar [High Quality DSC Resource Modules](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md) (Módulos de recurso de DSC de alta qualidade).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-108">Much of this documentation follows the guidelines for publishing [High Quality DSC Resource Modules](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md).</span></span>

<span data-ttu-id="6ebe0-109">Para obter o mecanismo de publicação de um item na Galeria do PowerShell, consulte [Criar e publicar um item](https://msdn.microsoft.com/en-us/powershell/gallery/psgallery/creating-and-publishing-an-item).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-109">For the mechanics of publishing an item to the PowerShell Gallery, see [Creating and Publishing an Item](https://msdn.microsoft.com/en-us/powershell/gallery/psgallery/creating-and-publishing-an-item).</span></span>

<span data-ttu-id="6ebe0-110">Comentários sobre essas diretrizes são boas-vindos.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-110">Feedback on these guidelines is welcomed.</span></span> <span data-ttu-id="6ebe0-111">Se você tiver comentários, abra problemas no nosso [Repositório de documentação do Github](https://github.com/powershell/powershell-docs/).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-111">If you do have feedback, please open issues in our [Github documentation repository](https://github.com/powershell/powershell-docs/).</span></span> 

## <a name="best-practices-for-published-items"></a><span data-ttu-id="6ebe0-112">Práticas recomendadas para itens publicados</span><span class="sxs-lookup"><span data-stu-id="6ebe0-112">Best Practices for Published Items</span></span> 

<span data-ttu-id="6ebe0-113">As seguintes práticas recomendadas são o que os usuários de itens da Galeria do PowerShell dizem que é importante e são elas listadas em ordem de prioridade nominal.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-113">The following best practices are what the users of PowerShell Gallery items say is important, and are listed in nominal priority order.</span></span>
<span data-ttu-id="6ebe0-114">Os itens que seguem estas diretrizes têm uma probabilidade muito maior de ser baixados e adotados por outras pessoas.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-114">Items that follow these guidelines are far more likely to be downloaded and adopted by others.</span></span>

* <span data-ttu-id="6ebe0-115">Usar PSScriptAnalyzer</span><span class="sxs-lookup"><span data-stu-id="6ebe0-115">Use PSScriptAnalyzer</span></span>
* <span data-ttu-id="6ebe0-116">Incluir a documentação e exemplos</span><span class="sxs-lookup"><span data-stu-id="6ebe0-116">Include documentation and examples</span></span>
* <span data-ttu-id="6ebe0-117">Seja receptivo aos comentários</span><span class="sxs-lookup"><span data-stu-id="6ebe0-117">Be responsive to feedback</span></span>
* <span data-ttu-id="6ebe0-118">Fornecer módulos em vez de scripts</span><span class="sxs-lookup"><span data-stu-id="6ebe0-118">Provide modules rather than scripts</span></span>
* <span data-ttu-id="6ebe0-119">Seguir as diretrizes [SemVer] para controle de versão</span><span class="sxs-lookup"><span data-stu-id="6ebe0-119">Follow [SemVer] guidelines for versioning</span></span>
* <span data-ttu-id="6ebe0-120">Fornecer links para um site do projeto</span><span class="sxs-lookup"><span data-stu-id="6ebe0-120">Provide links to a project site</span></span>
* <span data-ttu-id="6ebe0-121">Incluir testes com os módulos</span><span class="sxs-lookup"><span data-stu-id="6ebe0-121">Include tests with your modules</span></span>
* <span data-ttu-id="6ebe0-122">Incluir e/ou vincular aos termos de licença</span><span class="sxs-lookup"><span data-stu-id="6ebe0-122">Include and/or link to license terms</span></span>
* <span data-ttu-id="6ebe0-123">Assinar o código</span><span class="sxs-lookup"><span data-stu-id="6ebe0-123">Sign your code</span></span>
* <span data-ttu-id="6ebe0-124">Use marcas comuns, conforme documentado em Marcas comuns da Galeria do PowerShell</span><span class="sxs-lookup"><span data-stu-id="6ebe0-124">Use common tags, as documented in Common PowerShell Gallery tags</span></span>

<span data-ttu-id="6ebe0-125">Cada uma delas é abordada brevemente nas seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-125">Each of these is covered briefly in the sections below.</span></span>

## <a name="use-psscriptanalyzer"></a><span data-ttu-id="6ebe0-126">Usar PSScriptAnalyzer</span><span class="sxs-lookup"><span data-stu-id="6ebe0-126">Use PSScriptAnalyzer</span></span>

<span data-ttu-id="6ebe0-127">O [PSScriptAnalyzer](https://www.powershellgallery.com/packages/PSScriptAnalyzer) é uma ferramenta de análise de código estático gratuita que funciona em códigos do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-127">[PSScriptAnalyzer](https://www.powershellgallery.com/packages/PSScriptAnalyzer) is a free static code analysis tool that works on PowerShell code.</span></span>
<span data-ttu-id="6ebe0-128">O PSScriptAnalyzer identificará os problemas mais comuns vistos no código do PowerShell e, geralmente, uma recomendação para corrigir o problema.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-128">PSScriptAnalyzer will identify the most common issues seen in PowerShell code, and often a recommendation for how to fix the issue.</span></span> <span data-ttu-id="6ebe0-129">A ferramenta é fácil de usar e categoriza os problemas como Erros (graves, devem ser abordados), Avisos (precisam ser examinados e devem ser resolvidos) e Informações (vale a pena verificar visando as práticas recomendadas).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-129">The tool is easy to use, and categorizes the issues as Errors (severe, must be addressed), Warning (need to be reviewed & should be addressed), and Information (worth checking out for best practices).</span></span> <span data-ttu-id="6ebe0-130">Todos os itens de itens publicados na Galeria do PowerShell serão examinados usando o PSScriptAnalyzer e todos os erros serão ser relatados para o proprietário e deverão ser abordados.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-130">All items item published to the PowerShell Gallery will be scanned using PSScriptAnalyzer, and any errors will be reported back to the owner and must be addressed.</span></span> 

<span data-ttu-id="6ebe0-131">A prática recomendada é executar `Invoke-ScriptAnalyzer` com Aviso `-Recurse` e `-Severity`.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-131">The best practice is to run `Invoke-ScriptAnalyzer` with `-Recurse` and `-Severity` Warning.</span></span>

<span data-ttu-id="6ebe0-132">Examine os resultados e verifique se:</span><span class="sxs-lookup"><span data-stu-id="6ebe0-132">Review the results, and ensure that:</span></span>

* <span data-ttu-id="6ebe0-133">Todos os erros foram corrigidos ou abordados na documentação</span><span class="sxs-lookup"><span data-stu-id="6ebe0-133">All Errors are corrected or addressed in your documentation</span></span>
* <span data-ttu-id="6ebe0-134">Todos os avisos foram examinados e resolvidos quando aplicável</span><span class="sxs-lookup"><span data-stu-id="6ebe0-134">All Warnings are reviewed, and addressed where applicable</span></span>

<span data-ttu-id="6ebe0-135">Os usuários que adquirem itens da Galeria do PowerShell são altamente incentivados a executar PSScriptAnalyzer e s avaliar todos os Erros e Avisos.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-135">Users who acquire items from the PowerShell Gallery are strongly encouraged to run PSScriptAnalyzer and evaluate all Errors and Warnings.</span></span>
<span data-ttu-id="6ebe0-136">Os usuários têm maior probabilidade de entrar em contato com os proprietários do item quando percebem que um erro foi relatado pelo PSScriptAnalyzer.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-136">Users are very likely to contact item owners if they see that there is an error reported by PSScriptAnalyzer.</span></span>
<span data-ttu-id="6ebe0-137">Se houver um motivo convincente para o item manter o código sinalizado como um erro, adicione essas informações à documentação para evitar precisar responder à mesma pergunta muitas vezes.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-137">If there is a compelling reason for your item to keep code that is flagged as an error, add that information to your documentation to avoid having to answer the same question many times.</span></span> 


## <a name="include-documentation-and-examples"></a><span data-ttu-id="6ebe0-138">Incluir a documentação e exemplos</span><span class="sxs-lookup"><span data-stu-id="6ebe0-138">Include documentation and examples</span></span>

<span data-ttu-id="6ebe0-139">Documentação e exemplos são a melhor maneira de garantir que os usuários possam aproveitar qualquer código compartilhado.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-139">Documentation and examples are the best way to ensure users can take advantage of any shared code.</span></span>

<span data-ttu-id="6ebe0-140">A documentação é a coisa mais útil a ser incluída nos itens publicados na Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-140">Documentation is the most helpful thing to include in items published to the PowerShell Gallery.</span></span> <span data-ttu-id="6ebe0-141">Os usuários geralmente ignoram itens sem a documentação, pois a alternativa é ler o código para entender o que é o item e como usá-lo.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-141">Users will generally bypass items without documentation, as the alternative is to read the code to understand what the item is and how to use it.</span></span>
<span data-ttu-id="6ebe0-142">Há vários artigos disponíveis no MSDN sobre como fornecer documentação com itens do PowerShell, incluindo:</span><span class="sxs-lookup"><span data-stu-id="6ebe0-142">There are several articles available in MSDN on how to provide documentation with PowerShell items, including:</span></span>

* <span data-ttu-id="6ebe0-143">As diretrizes para fornecer ajuda estão em [How to Write Cmdlet Help](https://msdn.microsoft.com/en-us/library/aa965353(VS.85).aspx) (Como escrever a ajuda do cmdlet)</span><span class="sxs-lookup"><span data-stu-id="6ebe0-143">Guidelines for providing help are in [How to Write Cmdlet Help](https://msdn.microsoft.com/en-us/library/aa965353(VS.85).aspx)</span></span>
* <span data-ttu-id="6ebe0-144">Criar a ajuda do cmdlet, que é a melhor abordagem para qualquer script, função ou cmdlet do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-144">Creating cmdlet help, which is the best approach for any PowerShell script, function, or cmdlet.</span></span> <span data-ttu-id="6ebe0-145">Para obter informações de como criar a ajuda do cmdlet, inicie com [How to Write Cmdlet Help](http://go.microsoft.com/fwlink/?LinkID=123415) (Como escrever a ajuda do cmdlet) na biblioteca MSDN (Microsoft Developer Network).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-145">For information about how to create cmdlet help, start with [How to Write Cmdlet Help](http://go.microsoft.com/fwlink/?LinkID=123415) in the MSDN (Microsoft Developer Network) library.</span></span> <span data-ttu-id="6ebe0-146">Para adicionar a ajuda dentro de um script, consulte [About Comment Based Help](https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.core/about/about_comment_based_help) (Sobre a ajuda baseada em comentários).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-146">To add help within a script, see [About Comment Based Help](https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.core/about/about_comment_based_help).</span></span>
* <span data-ttu-id="6ebe0-147">Muitos módulos também incluem documentação no formato de texto, como arquivos de MarkDown.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-147">Many modules also include documentation in text format, such as MarkDown files.</span></span> <span data-ttu-id="6ebe0-148">Isso pode ser particularmente útil quando há um site do projeto no Github, no qual o Markdown é um formato muito usado.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-148">This can be particularly helpful when there is a project site in Github, where Markdown is a heavily used format.</span></span>
<span data-ttu-id="6ebe0-149">A prática recomendada é usar [Markdown para Github](https://help.github.com/categories/writing-on-github/)</span><span class="sxs-lookup"><span data-stu-id="6ebe0-149">The best practice is to use [Github-flavored Markdown](https://help.github.com/categories/writing-on-github/)</span></span> 

<span data-ttu-id="6ebe0-150">Exemplos mostram aos usuários como o item deve ser usado.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-150">Examples show users how the item is intended to be used.</span></span> <span data-ttu-id="6ebe0-151">Muitos desenvolvedores dirão que eles consultam os exemplos antes da documentação para entender como usar algo.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-151">Many developers will say that they look at examples before documentation to understand how to use something.</span></span> <span data-ttu-id="6ebe0-152">O melhor tipo de exemplo mostra o uso básico, além de um caso de uso realista simulado e o código é bem comentado.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-152">The best type of examples show basic use, plus a simulated realistic use case, and the code is well-commented.</span></span> <span data-ttu-id="6ebe0-153">Os exemplos de módulos publicados na Galeria do PowerShell devem estar em uma pasta Exemplos na raiz do módulo.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-153">Examples for modules published to the PowerShell Gallery should be in an Examples folder under the module root.</span></span>

<span data-ttu-id="6ebe0-154">Um bom padrão de exemplos pode ser encontrado no [Módulo PSDscResource](https://www.powershellgallery.com/packages/PSDscResources) na pasta Examples\RegistryResource.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-154">A good pattern for examples can be found in the [PSDscResource module](https://www.powershellgallery.com/packages/PSDscResources) under the Examples\RegistryResource folder.</span></span> <span data-ttu-id="6ebe0-155">Há quatro exemplos de casos de uso com uma breve descrição na parte superior de cada arquivo que documenta o que está sendo demonstrado.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-155">There are four sample use cases with a brief description at the top of each file that documents what is being demonstrated.</span></span>

## <a name="respond-to-feedback"></a><span data-ttu-id="6ebe0-156">Responder aos comentários</span><span class="sxs-lookup"><span data-stu-id="6ebe0-156">Respond to feedback</span></span>

<span data-ttu-id="6ebe0-157">Os proprietários de item que respondem corretamente aos comentários são altamente valorizados pela comunidade.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-157">Item owners who respond properly to feedback are highly valued by the community.</span></span> <span data-ttu-id="6ebe0-158">É importante responder aos usuários que fornecem comentários construtivos, pois eles estão interessados no item o bastante para tentar ajudar a melhorá-lo.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-158">Users who provide constructive feedback are important to respond to, as they are interested enough in the item to try to help improve it.</span></span> 

<span data-ttu-id="6ebe0-159">Há dois métodos de comentários disponíveis na Galeria do PowerShell:</span><span class="sxs-lookup"><span data-stu-id="6ebe0-159">There are two feedback methods available in the PowerShell Gallery:</span></span>

* <span data-ttu-id="6ebe0-160">Contatar proprietário: permite que um usuário envie um email para o proprietário do item.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-160">Contact Owner: This allows a user to send an email to the item owner(s).</span></span> <span data-ttu-id="6ebe0-161">Como proprietário de um item, é importante monitorar o endereço de email usado com os itens da Galeria do PowerShell e responder aos problemas que surgirem.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-161">As an item owner, is important to monitor the email address used with the PowerShell Gallery items, and respond to issues that are raised.</span></span> <span data-ttu-id="6ebe0-162">Uma desvantagem desse método é que apenas o usuário e o proprietário verão a comunicação, portanto, o proprietário poderá precisar responder à mesma pergunta várias vezes.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-162">The one disadvantage to this method is that only the user and owner will ever see the communication, so the owner may have to answer the same question many times.</span></span>
* <span data-ttu-id="6ebe0-163">Comentários: Na parte inferior da página do item há um campo Comentário.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-163">Comments: At the bottom of the item page is a Comment field.</span></span> <span data-ttu-id="6ebe0-164">A vantagem desse sistema é que outros usuários podem ver os comentários e as respostas, o que reduz o número de vezes que uma mesma pergunta deve ser respondida.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-164">The advantage to this system is that other users can see the comments and responses, which reduces the number of times any single question must be answered.</span></span> <span data-ttu-id="6ebe0-165">Como proprietário de um item, é altamente recomendável que você Siga os comentários de cada item.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-165">As an item owner, it is strongly recommended that you Follow the comments made for each item.</span></span> <span data-ttu-id="6ebe0-166">Consulte [Fornecendo comentários por meio de mídia social ou do recurso Comentários](https://msdn.microsoft.com/en-us/powershell/gallery/psgallery/psgallery-SocialMediaFeedback) para obter detalhes de como fazer isso.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-166">See [Providing Feedback via Social Media or Comments](https://msdn.microsoft.com/en-us/powershell/gallery/psgallery/psgallery-SocialMediaFeedback) for details on how to do that.</span></span> 

<span data-ttu-id="6ebe0-167">Os proprietários que respondem aos comentários de forma construtiva são apreciados pela comunidade.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-167">Owners who respond to feedback constructively are appreciated by the community.</span></span>
<span data-ttu-id="6ebe0-168">Use a oportunidade no relatório para solicitar mais informações, se necessário, fornecer uma solução alternativa ou identificar se uma atualização corrige um problema.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-168">Use the opportunity in the report to request more information if needed, provide a workaround, or identify if an update fixes a problem.</span></span> 

<span data-ttu-id="6ebe0-169">Se houver comportamento inadequado observado em algum desse canais de comunicação, use o recurso Relatar abuso da Galeria do PowerShell para contatar os administradores da galeria.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-169">If there is inappropriate behavior observed from either of these communication channels, use the Report Abuse feature of the PowerShell Gallery to contact the Gallery Administrators.</span></span> 


## <a name="modules-versus-scripts"></a><span data-ttu-id="6ebe0-170">Módulos versus scripts</span><span class="sxs-lookup"><span data-stu-id="6ebe0-170">Modules Versus Scripts</span></span>

<span data-ttu-id="6ebe0-171">Compartilhar um script com outros usuários é ótimo e fornece aos outros alguns exemplos de como resolver os problemas que eles possam ter.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-171">Sharing a script with other users is great, and provides others with examples of how to solve problems they may have.</span></span>
<span data-ttu-id="6ebe0-172">O problema é que os scripts na Galeria do PowerShell são arquivos únicos sem documentação, testes e exemplos separados.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-172">The issue is that scripts in the PowerShell Gallery are single files without separate documentation, examples, and tests.</span></span>

<span data-ttu-id="6ebe0-173">Os módulos do PowerShell têm uma estrutura de pasta que permite que várias pastas e arquivos sejam incluídos no pacote.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-173">PowerShell Modules have a folder structure that allows multiple folders and files to be included with the package.</span></span>
<span data-ttu-id="6ebe0-174">A estrutura do módulo permite incluir os outros itens listados como práticas recomendadas: ajuda do cmdlet, documentação, exemplos e testes.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-174">The module structure enables including the other items we list as best practices: cmdlet help, documentation, examples, and tests.</span></span>
<span data-ttu-id="6ebe0-175">A maior desvantagem é que um script dentro de um módulo deve ser exposto e usado como uma função.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-175">The biggest disadvantage is that a script inside a module must be exposed and used as a function.</span></span> <span data-ttu-id="6ebe0-176">Para obter informações de como criar um módulo, consulte [Writing a Windows PowerShell Module](http://go.microsoft.com/fwlink/?LinkId=144916) (Escrevendo um módulo do Windows PowerShell).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-176">For information on how to create a module, see [Writing a Windows PowerShell Module](http://go.microsoft.com/fwlink/?LinkId=144916).</span></span>

<span data-ttu-id="6ebe0-177">Há situações em que um script fornece uma experiência melhor para o usuário, principalmente com configurações DSC.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-177">There are situations where a script provides a better experience for the user, particularly with DSC configurations.</span></span> <span data-ttu-id="6ebe0-178">A prática recomendada para configurações DSC é publicar a configuração como um script com um módulo de acompanhamento que contenha documentos, exemplos e testes.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-178">The best practice for DSC configurations is to publish the configuration as a script with an accompanying module that contains the docs, examples, and tests.</span></span> <span data-ttu-id="6ebe0-179">O script lista o módulo de acompanhamento usando RequiredModules = @(Nome do módulo).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-179">The script lists the accompanying module using RequiredModules = @(Name of the Module).</span></span>
<span data-ttu-id="6ebe0-180">Essa abordagem pode ser usada com qualquer script.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-180">This approach can be used with any script.</span></span>

<span data-ttu-id="6ebe0-181">Os scripts autônomos que seguem as práticas recomendadas fornecem um grande valor aos outros usuários.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-181">Standalone scripts that follow the other best practices provide real value to other users.</span></span> <span data-ttu-id="6ebe0-182">Fornecer a documentação baseada em comentários e um link para um site do projeto são práticas altamente recomendadas ao publicar um script na Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-182">Providing comment-based documentation and a link to a Project Site are highly recommended when publishing a script to the PowerShell Gallery.</span></span> 

## <a name="provide-a-link-to-a-project-site"></a><span data-ttu-id="6ebe0-183">Fornecer um link para um site do projeto</span><span class="sxs-lookup"><span data-stu-id="6ebe0-183">Provide a link to a project site</span></span>

<span data-ttu-id="6ebe0-184">Um Site do projeto é onde um publicador pode interagir diretamente com os usuários de seus itens da Galeria do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-184">A Project Site is where a publisher can interact directly with the users of their PowerShell Gallery items.</span></span>
<span data-ttu-id="6ebe0-185">Os usuários preferem itens que fornecem um site, porque assim eles podem obter informações sobre o item com mais facilidade.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-185">Users prefer items that provide this, as it allows them to get information about the item more easily.</span></span> <span data-ttu-id="6ebe0-186">Muitos itens na Galeria do PowerShell são desenvolvidos no GitHub, outros são oferecidos por organizações com uma presença na Web dedicada.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-186">Many items in the PowerShell Gallery are developed in GitHub, others are provided by organizations with a dedicated web presence.</span></span>
<span data-ttu-id="6ebe0-187">Cada um deles pode ser considerado um site do projeto.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-187">Each of these can be considered a project site.</span></span>

<span data-ttu-id="6ebe0-188">A adição de um link é feita incluindo ProjectURI na seção PSData do manifesto da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="6ebe0-188">Adding a link is done by including ProjectURI in the PSData section of the manifest as follows:</span></span>

        # A URL to the main website for this project.
        ProjectUri = 'https://github.com/powershell/powershell' 

<span data-ttu-id="6ebe0-189">Quando um ProjectURI for fornecido, a Galeria do PowerShell incluirá um link para o site do projeto no lado esquerdo da página do item.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-189">When a ProjectURI is provided, the PowerShell Gallery will include a link to the Project Site on the left side of the item page.</span></span> 

## <a name="include-tests"></a><span data-ttu-id="6ebe0-190">Incluir testes</span><span class="sxs-lookup"><span data-stu-id="6ebe0-190">Include tests</span></span>

<span data-ttu-id="6ebe0-191">Incluir testes com código de software livre é importante para os usuários, porque isso oferece uma garantia sobre o que você valida e fornece informações sobre o funcionamento do código.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-191">Including tests with open-source code is important to users, as it gives them assurance about what you validate, and provides information on how your code works.</span></span> <span data-ttu-id="6ebe0-192">Isso também permite que os usuários não prejudiquem a funcionalidade original caso modifiquem o seu código para ajustá-lo ao ambiente deles.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-192">It also allows users to ensure they do not break your original functionality if they modify your code to fit their environment.</span></span>

<span data-ttu-id="6ebe0-193">É altamente recomendável que os testes sejam escritos para aproveitar a estrutura de testes do Pester, que foi projetada especificamente para o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-193">It is strongly recommended that tests be written to take advantage of the Pester test framework, which has been designed specifically for PowerShell.</span></span>
<span data-ttu-id="6ebe0-194">O Pester está disponível no [GitHub](https://github.com/Pester/Pester), na [Galeria do PowerShell](https://www.powershellgallery.com/packages/Pester/) e é fornecido no Windows 10, no Windows Server 2016, no WMF 5.0 e no WMF 5.1.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-194">Pester is available in [GitHub](https://github.com/Pester/Pester), the [PowerShell Gallery](https://www.powershellgallery.com/packages/Pester/), and ships in Windows 10, Windows Server 2016, WMF 5.0 and WMF 5.1.</span></span> 

<span data-ttu-id="6ebe0-195">O [Site do projeto Pester no GitHub](https://github.com/Pester/Pester) inclui uma boa documentação de como escrever testes Pester, desde a introdução até as práticas recomendadas.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-195">The [Pester project site in GitHub](https://github.com/Pester/Pester) includes good documentation on writing Pester tests, from getting started to best practices.</span></span> 

<span data-ttu-id="6ebe0-196">As metas de cobertura do teste são destacadas na [Documentação do módulo do recurso de alta qualidade](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md), com 70% de cobertura de código de teste de unidade recomendada.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-196">The targets for test coverage are called out in the [High Quality Resource Module documentation](https://github.com/PowerShell/DscResources/blob/master/HighQualityModuleGuidelines.md), with 70% unit test code coverage recommended.</span></span> 

## <a name="sign-your-code"></a><span data-ttu-id="6ebe0-197">Assinar o código</span><span class="sxs-lookup"><span data-stu-id="6ebe0-197">Sign your code</span></span>

<span data-ttu-id="6ebe0-198">A assinatura de código fornece aos usuários o nível mais alto de segurança sobre quem publicou o item e de garantia de que a cópia do código adquirido é exatamente o que o publicador lançou.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-198">Code signing provides users with the highest level of assurance for who published the item, and that the copy of the code they acquire is exactly what the publisher released.</span></span> <span data-ttu-id="6ebe0-199">Para saber mais sobre assinatura de código em geral, consulte [Introduction to Code Signing](http://go.microsoft.com/fwlink/?LinkId=106296) (Introdução à assinatura de código).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-199">To learn more about code signing generally, see [Introduction to Code Signing](http://go.microsoft.com/fwlink/?LinkId=106296).</span></span> <span data-ttu-id="6ebe0-200">O PowerShell dá suporte à validação de assinatura de código por meio de duas abordagens principais:</span><span class="sxs-lookup"><span data-stu-id="6ebe0-200">PowerShell supports validation of code signing through two primary approaches:</span></span>

* <span data-ttu-id="6ebe0-201">Assinando arquivos de script</span><span class="sxs-lookup"><span data-stu-id="6ebe0-201">Signing script files</span></span>
* <span data-ttu-id="6ebe0-202">Assinado um módulo por catálogo</span><span class="sxs-lookup"><span data-stu-id="6ebe0-202">Catalog signing a module</span></span>

<span data-ttu-id="6ebe0-203">A assinatura de arquivos do PowerShell é uma abordagem bem estabelecida para garantir que o código que está sendo executado foi produzido por uma fonte confiável e não foi modificado.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-203">Signing PowerShell files is a well-established approach to ensuring that the code being executed was produced by a reliable source, and has not been modified.</span></span>
<span data-ttu-id="6ebe0-204">Os detalhes de como assinar arquivos de script do PowerShell são abordados no tópico [Sobre assinatura](https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.core/about/about_signing).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-204">Details on how to sign PowerShell script files is covered in the [About Signing](https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.core/about/about_signing) topic.</span></span> <span data-ttu-id="6ebe0-205">Em geral, uma assinatura pode ser adicionada a qualquer arquivo .PS1 que o PowerShell validar quando o script for carregado.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-205">In overview, a signature can be added to any .PS1 file that PowerShell validates when the script is loaded.</span></span> <span data-ttu-id="6ebe0-206">O PowerShell pode ser restrito usando os cmdlets [Política de execução](https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.core/about/about_execution_policies) para garantir o uso de scripts.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-206">PowerShell can be constrained using the [Execution Policy](https://msdn.microsoft.com/en-us/powershell/reference/5.1/microsoft.powershell.core/about/about_execution_policies) cmdlets to ensure use of signed scripts.</span></span> <span data-ttu-id="6ebe0-207">Esse recurso é usado frequentemente em ambientes altamente seguros.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-207">This feature is frequently used in highly secure environments.</span></span> 

<span data-ttu-id="6ebe0-208">A assinatura de catálogo de módulo é um recurso que foi adicionado no PowerShell na versão 5.1.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-208">Catalog signing modules is a feature added to PowerShell in version 5.1.</span></span> <span data-ttu-id="6ebe0-209">Como assinar um módulo é abordado no tópico [Cmdlets de catálogo](https://msdn.microsoft.com/en-us/powershell/wmf/5.1/catalog-cmdlets).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-209">How to sign a module is covered in the [Catalog Cmdlets](https://msdn.microsoft.com/en-us/powershell/wmf/5.1/catalog-cmdlets) topic.</span></span> <span data-ttu-id="6ebe0-210">Em geral, a assinatura do catálogo é feita criando um arquivo de catálogo que contenha um valor de hash para cada arquivo no módulo e, em seguida, assinando esse arquivo.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-210">In overview, catalog signing is done by creating a catalog file, which contains a hash value for every file in the module, and then signing that file.</span></span>
<span data-ttu-id="6ebe0-211">Os cmdlets publish-module, install-module, save-module e update-module do PowerShellGet verificarão a assinatura para garantir que ela seja válida e confirmarão se o valor de hash de cada item corresponde ao que está no catálogo.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-211">The PowerShellGet publish-module, install-module, save-module, and update-module cmdlets will check the signature to ensure it is valid, then confirm that the hash value for each item matches what is in the catalog.</span></span>
<span data-ttu-id="6ebe0-212">Se uma versão anterior do módulo estiver instalada no sistema, install-module confirmará se autoridade de assinatura da nova versão coincide com a que já estava instalada.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-212">If a previous version of the module is installed on the system, install-module will confirm that the signing authority for the new version matches what was previously installed.</span></span> <span data-ttu-id="6ebe0-213">A assinatura de catálogo funciona com os arquivos de script de assinatura, mas não os substitui.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-213">Catalog signing works with, but does not replace signing script files.</span></span> <span data-ttu-id="6ebe0-214">O PowerShell não valida as assinaturas de catálogo no tempo de carregamento do módulo.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-214">PowerShell does not validate catalog signatures at module load time.</span></span> 


## <a name="follow-semver-guidelines-for-versioning"></a><span data-ttu-id="6ebe0-215">Seguir as diretrizes [SemVer] para controle de versão</span><span class="sxs-lookup"><span data-stu-id="6ebe0-215">Follow [SemVer] guidelines for versioning</span></span>

<span data-ttu-id="6ebe0-216">[SemVer](http://semver.org/) é uma convenção pública que descreve como estruturar e alterar uma versão para permitir uma interpretação fácil das alterações.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-216">[SemVer](http://semver.org/) is a public convention that describes how to structure and change a version to allow easy intepretation of changes.</span></span>
<span data-ttu-id="6ebe0-217">A versão do item deve ser incluída nos dados de manifesto.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-217">The version for your item must be included in the manifest data.</span></span> 

* <span data-ttu-id="6ebe0-218">A versão deve ser estruturada como 3 blocos numéricos separados por pontos, como em 0.1.1 ou 4.11.192</span><span class="sxs-lookup"><span data-stu-id="6ebe0-218">The version should be structured as 3 numeric blocks separated by periods, as in 0.1.1 or 4.11.192</span></span>
* <span data-ttu-id="6ebe0-219">Versões que começam com "0" indicam que o item ainda não está preparado para produção e o primeiro número somente deverá começar com "0" se esse for o único número usado</span><span class="sxs-lookup"><span data-stu-id="6ebe0-219">Versions starting with "0" indicate that the item is not yet production ready, and the first number should only begin with "0" if that is the only number used</span></span>
* <span data-ttu-id="6ebe0-220">As alterações no primeiro número (1.9.9999 para 2.0.0) indicam alterações impactantes e recentes entre as versões</span><span class="sxs-lookup"><span data-stu-id="6ebe0-220">Changes in the first number (1.9.9999 to 2.0.0) indicate major and breaking changes between the versions</span></span>
* <span data-ttu-id="6ebe0-221">As alterações no segundo número (1.01 para 1.02) indicam alterações em nível de recurso, como a adição de novos cmdlets em um módulo</span><span class="sxs-lookup"><span data-stu-id="6ebe0-221">Changes to the second number (1.01 to 1.02) indicate feature-level changes, such as adding new cmdlets to a module</span></span>
* <span data-ttu-id="6ebe0-222">As alterações no terceiro número indicam alterações não impactantes, como novos parâmetros, exemplos atualizados ou novos testes</span><span class="sxs-lookup"><span data-stu-id="6ebe0-222">Changes to the third number indicate non-breaking changes, such as new parameters, updated samples, or new tests</span></span>
* <span data-ttu-id="6ebe0-223">Ao listar versões, o PowerShell as classificará como cadeias de caracteres de modo que 1.01.0 seja tratado como maior que 1.001.0</span><span class="sxs-lookup"><span data-stu-id="6ebe0-223">When listing versions, PowerShell will sort the versions as strings, so 1.01.0 will be treated as greater than 1.001.0</span></span>

<span data-ttu-id="6ebe0-224">O PowerShell foi criado antes da publicação do SemVer, portanto ele dá suporte para muitos elementos do SemVer, mas não para todos, especificamente:</span><span class="sxs-lookup"><span data-stu-id="6ebe0-224">PowerShell was created before SemVer was published, so it provides support for most but not all elements of SemVer, specifically:</span></span> 

* <span data-ttu-id="6ebe0-225">Ele não dá suporte para cadeias de caracteres de pré-versão em números de versão.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-225">It does not support prerelease strings in version numbers.</span></span> <span data-ttu-id="6ebe0-226">Isso é útil quando um publicador deseja fornecer uma versão prévia de uma nova versão principal depois de fornecer uma versão 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-226">This is useful when a publisher wishes to deliver a preview release of a new major version after providing a version 1.0.0.</span></span> <span data-ttu-id="6ebe0-227">Isso terá suporte em uma versão futura da Galeria do PowerShell e dos cmdlets PowerShellGet.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-227">This will be supported in a future release of the PowerShell Gallery and PowerShellGet cmdlets.</span></span>
* <span data-ttu-id="6ebe0-228">O PowerShell e a Galeria do PowerShell permitem cadeias de caracteres de versão com 1, 2 e 4 segmentos.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-228">PowerShell and the PowerShell Gallery allow version strings with 1, 2, and 4 segments.</span></span> <span data-ttu-id="6ebe0-229">Muitos módulos anteriores não seguiram as diretrizes e as versões de produto da Microsoft incluem as informações de build como um 4º bloco de números (por exemplo, 5.1.14393.1066).</span><span class="sxs-lookup"><span data-stu-id="6ebe0-229">Many early modules did not follow the guidelines, and product releases from Microsoft include build information as a 4th block of numbers (for example 5.1.14393.1066).</span></span> <span data-ttu-id="6ebe0-230">Do ponto de vista do controle de versão, essas diferenças são ignoradas.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-230">From a versioning standpoint, these differences are ignored.</span></span>


## <a name="include-andor-link-to-license-terms"></a><span data-ttu-id="6ebe0-231">Incluir e/ou vincular aos termos de licença</span><span class="sxs-lookup"><span data-stu-id="6ebe0-231">Include and/or link to license terms</span></span>

<span data-ttu-id="6ebe0-232">Todos os itens publicados na Galeria do PowerShell devem especificar os termos de licença ou estarem associados à licença incluída nos [Termos de uso](https://www.powershellgallery.com/policies/Terms) na "Exibição A".</span><span class="sxs-lookup"><span data-stu-id="6ebe0-232">All items published to the PowerShell Gallery must specify the license terms, or be bound by the license included in the [Terms of Use](https://www.powershellgallery.com/policies/Terms) under "Exhibit A".</span></span> <span data-ttu-id="6ebe0-233">A melhor abordagem para especificar uma licença diferente é fornecer um link para a licença usando o LicenseURI em PSData.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-233">The best approach to specifying a different license is to provide a link to the license using the LicenseURI in PSData.</span></span> <span data-ttu-id="6ebe0-234">Você pode encontrar um exemplo no tópico Campos de manifesto recomendados.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-234">You can find an example in the Recommended Manifest Fields topic.</span></span> 

    PrivateData = @{
        PSData = @{

            # Tags applied to this module. These help with module discovery in online galleries.
            Tags = @('.net','acl','active-directory')

            # A URL to the license for this module.
            LicenseUri = 'http://www.apache.org/licenses/LICENSE-2.0'



## <a name="recommended-workflow"></a><span data-ttu-id="6ebe0-235">Fluxo de trabalho recomendado</span><span class="sxs-lookup"><span data-stu-id="6ebe0-235">Recommended Workflow</span></span>

<span data-ttu-id="6ebe0-236">A abordagem mais bem-sucedida que encontramos para itens publicados na Galeria do PowerShell é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="6ebe0-236">The most successful approach we have found for items published to the PowerShell Gallery is this:</span></span>

* <span data-ttu-id="6ebe0-237">Faça o desenvolvimento inicial em um site de projeto de software livre.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-237">Do initial development in a an open-source project site.</span></span> <span data-ttu-id="6ebe0-238">A equipe do PowerShell usa o Github.</span><span class="sxs-lookup"><span data-stu-id="6ebe0-238">The PowerShell Team uses Github.</span></span> 
* <span data-ttu-id="6ebe0-239">Use comentários de revisores e do [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer) para levar o código ao estado estável</span><span class="sxs-lookup"><span data-stu-id="6ebe0-239">Use feedback from reviewers and [Powershell Script Analyzer](https://aka.ms/psscriptanalyzer) to get the code to stable state</span></span>
* <span data-ttu-id="6ebe0-240">Inclua a documentação, para que outras pessoas saibam como usar o seu trabalho</span><span class="sxs-lookup"><span data-stu-id="6ebe0-240">Include documentation, so others know how to use your work</span></span>
* <span data-ttu-id="6ebe0-241">Publique uma versão estável ou Alfa na Galeria do PowerShell, lembrando-se de incluir a documentação e o link para o site do projeto</span><span class="sxs-lookup"><span data-stu-id="6ebe0-241">Publish a stable or Alpha release to the PowerShell Gallery, making sure to include the documentation and link to your project site</span></span>
* <span data-ttu-id="6ebe0-242">Colete comentários, itere o código no site do projeto e, em seguida, publique atualizações estáveis na Galeria do PowerShell</span><span class="sxs-lookup"><span data-stu-id="6ebe0-242">Gather feedback and iterate on the code in your project site, then publish stable updates to the PowerShell Gallery</span></span>
* <span data-ttu-id="6ebe0-243">Adicione exemplos e testes do Pester no projeto e no módulo</span><span class="sxs-lookup"><span data-stu-id="6ebe0-243">Add examples and Pester tests in your project and your module</span></span>
* <span data-ttu-id="6ebe0-244">Decida se deseja assinar o código do seu item</span><span class="sxs-lookup"><span data-stu-id="6ebe0-244">Decide if you want to code sign your item</span></span> 
* <span data-ttu-id="6ebe0-245">Quando você achar que o projeto está pronto para ser usado em um ambiente de produção, publique uma versão 1.0.0 na Galeria do PowerShell</span><span class="sxs-lookup"><span data-stu-id="6ebe0-245">When you feel the project is ready to use in a production environment, publish a 1.0.0 version to the PowerShell Gallery</span></span>
* <span data-ttu-id="6ebe0-246">Continue a coletar comentários e itere em seu código com base nas informações fornecidas pelos usuários</span><span class="sxs-lookup"><span data-stu-id="6ebe0-246">Continue to gather feedback and iterate on your code based on user input</span></span>


   
