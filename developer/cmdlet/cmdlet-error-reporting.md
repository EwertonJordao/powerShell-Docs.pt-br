---
title: Relatório de erros do cmdlet | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- error records [PowerShell], terminating
- non-terminating errors [PowerShell]
- error records [PowerShell]
- terminating errors [PowerShell]
- error records [PowerShell], non-terminating
ms.assetid: 0b014035-52ea-44cb-ab38-bbe463c5465a
caps.latest.revision: 8
ms.openlocfilehash: 45f5934314a2871ceb921c7a66b9dfb658d0bd99
ms.sourcegitcommit: e7445ba8203da304286c591ff513900ad1c244a4
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/23/2019
ms.locfileid: "62068582"
---
# <a name="cmdlet-error-reporting"></a><span data-ttu-id="e888f-102">Relatório de erros do cmdlet</span><span class="sxs-lookup"><span data-stu-id="e888f-102">Cmdlet Error Reporting</span></span>

<span data-ttu-id="e888f-103">Cmdlets deve relatar erros de forma diferente dependendo se os erros são erros de finalização ou erros sem encerramento.</span><span class="sxs-lookup"><span data-stu-id="e888f-103">Cmdlets should report errors differently depending on whether the errors are terminating errors or nonterminating errors.</span></span> <span data-ttu-id="e888f-104">Erros de encerramento são erros que fazem com que o pipeline a ser encerrado imediatamente ou erros que ocorrem quando há nenhum motivo para continuar o processamento.</span><span class="sxs-lookup"><span data-stu-id="e888f-104">Terminating errors are errors that cause the pipeline to be terminated immediately, or errors that occur when there is no reason to continue processing.</span></span> <span data-ttu-id="e888f-105">Erros sem encerramento são os erros que relatam uma condição de erro atual, mas o cmdlet pode continuar a processar objetos de entrada.</span><span class="sxs-lookup"><span data-stu-id="e888f-105">Nonterminating errors are those errors that report a current error condition, but the cmdlet can continue to process input objects.</span></span> <span data-ttu-id="e888f-106">Com erros sem encerramento, normalmente, o usuário é notificado do problema, mas o cmdlet continua a processar o próximo objeto de entrada.</span><span class="sxs-lookup"><span data-stu-id="e888f-106">With nonterminating errors, the user is typically notified of the problem, but the cmdlet continues to process the next input object.</span></span>

## <a name="terminating-and-nonterminating-errors"></a><span data-ttu-id="e888f-107">Erros de finalização e sem encerramento</span><span class="sxs-lookup"><span data-stu-id="e888f-107">Terminating and Nonterminating Errors</span></span>

<span data-ttu-id="e888f-108">As diretrizes a seguir podem ser usadas para determinar se uma condição de erro é um erro de terminação ou um erro sem encerramento.</span><span class="sxs-lookup"><span data-stu-id="e888f-108">The following guidelines can be used to determine if an error condition is a terminating error or a nonterminating error.</span></span>

- <span data-ttu-id="e888f-109">A condição de erro impede a seu cmdlet processamento bem-sucedido de todos os objetos ainda mais a entrada?</span><span class="sxs-lookup"><span data-stu-id="e888f-109">Does the error condition prevent your cmdlet from successfully processing any further input objects?</span></span> <span data-ttu-id="e888f-110">Nesse caso, isso é um erro de encerramento.</span><span class="sxs-lookup"><span data-stu-id="e888f-110">If so, this is a terminating error.</span></span>

- <span data-ttu-id="e888f-111">A condição de erro está relacionada a um objeto de entrada específico ou um subconjunto de objetos de entrada?</span><span class="sxs-lookup"><span data-stu-id="e888f-111">Is the error condition related to a specific input object or a subset of input objects?</span></span> <span data-ttu-id="e888f-112">Nesse caso, esse é um erro sem encerramento.</span><span class="sxs-lookup"><span data-stu-id="e888f-112">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="e888f-113">O cmdlet aceita vários objetos de entrada, tal que o processamento pode ter êxito em outro objeto de entrada?</span><span class="sxs-lookup"><span data-stu-id="e888f-113">Does the cmdlet accept multiple input objects, such that processing may succeed on another input object?</span></span> <span data-ttu-id="e888f-114">Nesse caso, esse é um erro sem encerramento.</span><span class="sxs-lookup"><span data-stu-id="e888f-114">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="e888f-115">Cmdlets que podem aceitar vários objetos de entrada devem decidir entre o que está encerrando e erros sem encerramento, mesmo quando uma determinada situação se aplica a um único objeto de entrada.</span><span class="sxs-lookup"><span data-stu-id="e888f-115">Cmdlets that can accept multiple input objects should decide between what are terminating and nonterminating errors, even when a particular situation applies to only a single input object.</span></span>

- <span data-ttu-id="e888f-116">Cmdlets pode receber qualquer número de objetos de entrada e enviar qualquer número de objetos de sucesso ou erro antes de lançar uma exceção de terminação.</span><span class="sxs-lookup"><span data-stu-id="e888f-116">Cmdlets can receive any number of input objects and send any number of success or error objects before throwing a terminating exception.</span></span> <span data-ttu-id="e888f-117">Não há nenhuma relação entre o número de objetos de entrada recebidos e o número de objetos de êxito e erro enviadas.</span><span class="sxs-lookup"><span data-stu-id="e888f-117">There is no relationship between the number of input objects received and the number of success and error objects sent.</span></span>

- <span data-ttu-id="e888f-118">Cmdlets que pode aceitar somente 0-1 objetos de entrada e gerar 0-1 apenas de saída objetos devem tratar erros como erros de finalização e geram exceções de encerramento.</span><span class="sxs-lookup"><span data-stu-id="e888f-118">Cmdlets that can accept only 0-1 input objects and generate only 0-1 output objects should treat errors as terminating errors and generate terminating exceptions.</span></span>

## <a name="reporting-nonterminating-errors"></a><span data-ttu-id="e888f-119">Relatando erros sem encerramento</span><span class="sxs-lookup"><span data-stu-id="e888f-119">Reporting Nonterminating Errors</span></span>

<span data-ttu-id="e888f-120">O relatório de um erro sem encerramento sempre deve ser feito dentro da implementação do cmdlet do [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) método, o [ System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) método, ou o [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) método.</span><span class="sxs-lookup"><span data-stu-id="e888f-120">The reporting of a nonterminating error should always be done within the cmdlet's implementation of the [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) method, the [System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) method, or the [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) method.</span></span> <span data-ttu-id="e888f-121">Esses tipos de erros são relatados por meio da chamada a [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) método que por sua vez envia um registro de erro para o fluxo de erro.</span><span class="sxs-lookup"><span data-stu-id="e888f-121">These types of errors are reported by calling the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) method that in turn sends an error record to the error stream.</span></span>

## <a name="reporting-terminating-errors"></a><span data-ttu-id="e888f-122">Relatório de erros de finalização</span><span class="sxs-lookup"><span data-stu-id="e888f-122">Reporting Terminating Errors</span></span>

<span data-ttu-id="e888f-123">Erros de encerramento são relatados ao lançar exceções ou chamando o [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) método.</span><span class="sxs-lookup"><span data-stu-id="e888f-123">Terminating errors are reported by throwing exceptions or by calling the [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="e888f-124">Lembre-se de que cmdlets também pode capturar e relançar exceções, como OutOfMemory, no entanto, eles não são necessários para gerar novamente as exceções, como o tempo de execução do Windows PowerShell irá capturá-las também.</span><span class="sxs-lookup"><span data-stu-id="e888f-124">Be aware that cmdlets can also catch and re-throw exceptions such as OutOfMemory, however, they are not required to re-throw exceptions as the Windows PowerShell runtime will catch them as well.</span></span>

<span data-ttu-id="e888f-125">Você também pode definir suas próprias exceções para questões específicas à sua situação ou adicionar informações adicionais em uma exceção existente usando o seu registro de erro.</span><span class="sxs-lookup"><span data-stu-id="e888f-125">You can also define your own exceptions for issues specific to your situation, or add additional information to an existing exception using its error record.</span></span>

## <a name="error-records"></a><span data-ttu-id="e888f-126">Registros de erro</span><span class="sxs-lookup"><span data-stu-id="e888f-126">Error Records</span></span>

<span data-ttu-id="e888f-127">Windows PowerShell descreve uma condição de erro sem encerramento através do uso do [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) objetos.</span><span class="sxs-lookup"><span data-stu-id="e888f-127">Windows PowerShell describes a nonterminating error condition through the use of [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) objects.</span></span> <span data-ttu-id="e888f-128">Cada [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) objeto fornece informações de categoria de erro, um objeto de destino opcionais e detalhes sobre a condição de erro.</span><span class="sxs-lookup"><span data-stu-id="e888f-128">Each [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) object provides error category information, an optional target object, and details about the error condition.</span></span>

### <a name="error-identifiers"></a><span data-ttu-id="e888f-129">Identificadores de erro</span><span class="sxs-lookup"><span data-stu-id="e888f-129">Error Identifiers</span></span>

<span data-ttu-id="e888f-130">O identificador de erro é uma simple cadeia de caracteres que identifica a condição de erro dentro do cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e888f-130">The error identifier is a simple string that identifies the error condition within the cmdlet.</span></span> <span data-ttu-id="e888f-131">Windows PowerShell combina esse identificador com um identificador de cmdlet para criar um identificador de erro totalmente qualificado que pode ser usado mais tarde, ao filtrar fluxos de erro ou o log de erros ao responder a erros específicos, ou com outras atividades específicas do usuário.</span><span class="sxs-lookup"><span data-stu-id="e888f-131">Windows PowerShell combines this identifier with a cmdlet identifier to create a fully qualified error identifier that can be used later when filtering error streams or logging errors, when responding to specific errors, or with other user-specific activities.</span></span>

<span data-ttu-id="e888f-132">As diretrizes a seguir devem ser seguidas ao especificar identificadores de erro.</span><span class="sxs-lookup"><span data-stu-id="e888f-132">The following guidelines should be followed when specifying error identifiers.</span></span>

- <span data-ttu-id="e888f-133">Atribua identificadores de erro diferente, altamente específico, para caminhos de código diferentes.</span><span class="sxs-lookup"><span data-stu-id="e888f-133">Assign different, highly specific, error identifiers to different code paths.</span></span> <span data-ttu-id="e888f-134">Cada caminho de código que chama [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) ou [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) deve ter seu próprio identificador de erro.</span><span class="sxs-lookup"><span data-stu-id="e888f-134">Each code path that calls [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.Throwterminatingerror\*](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) should have its own error identifier.</span></span>

- <span data-ttu-id="e888f-135">Identificadores de erro devem ser exclusivos para os tipos de exceção do CLR para erros de finalização e sem encerramento.</span><span class="sxs-lookup"><span data-stu-id="e888f-135">Error identifiers should be unique to CLR exception types for both terminating and nonterminating errors.</span></span>

- <span data-ttu-id="e888f-136">Não altere a semântica de um identificador de erro entre as versões do seu cmdlet ou o provedor do Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e888f-136">Do not change the semantics of an error identifier between versions of your cmdlet or Windows PowerShell provider.</span></span> <span data-ttu-id="e888f-137">Depois que a semântica de um identificador de erro é estabelecida, ela deve permanecer constante ao longo do ciclo de vida de seu cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e888f-137">After the semantics of an error identifier is established, it should remain constant throughout the life cycle of your cmdlet.</span></span>

- <span data-ttu-id="e888f-138">Para erros de finalização, use um identificador de erro exclusivo para um determinado tipo de exceção do CLR.</span><span class="sxs-lookup"><span data-stu-id="e888f-138">For terminating errors, use a unique error identifier for a particular CLR exception type.</span></span> <span data-ttu-id="e888f-139">Se o tipo de exceção for alterado, use um novo identificador de erro.</span><span class="sxs-lookup"><span data-stu-id="e888f-139">If the exception type changes, use a new error identifier.</span></span>

- <span data-ttu-id="e888f-140">Para erros sem encerramento, use um identificador de erro específico para um objeto de entrada específico.</span><span class="sxs-lookup"><span data-stu-id="e888f-140">For nonterminating errors, use a specific error identifier for a specific input object.</span></span>

- <span data-ttu-id="e888f-141">Escolha o texto para o identificador de tersely corresponde ao erro que está sendo relatado.</span><span class="sxs-lookup"><span data-stu-id="e888f-141">Choose text for the identifier that tersely corresponds to the error being reported.</span></span> <span data-ttu-id="e888f-142">Não use espaço em branco ou pontuação.</span><span class="sxs-lookup"><span data-stu-id="e888f-142">Do not use white space or punctuation.</span></span>

- <span data-ttu-id="e888f-143">Não gere identificadores de erro que não são reproduzíveis.</span><span class="sxs-lookup"><span data-stu-id="e888f-143">Do not generate error identifiers that are not reproducible.</span></span> <span data-ttu-id="e888f-144">Por exemplo, não geram identificadores que incluem um identificador de processo.</span><span class="sxs-lookup"><span data-stu-id="e888f-144">For example, do not generate identifiers that include a process identifier.</span></span> <span data-ttu-id="e888f-145">Identificadores de erro são úteis apenas quando eles correspondem aos identificadores que são vistos por outros usuários que estão tendo o mesmo problema.</span><span class="sxs-lookup"><span data-stu-id="e888f-145">Error identifiers are useful only when they correspond to identifiers that are seen by other users who are experiencing the same problem.</span></span>

### <a name="error-categories"></a><span data-ttu-id="e888f-146">Categorias de erro</span><span class="sxs-lookup"><span data-stu-id="e888f-146">Error Categories</span></span>

<span data-ttu-id="e888f-147">Categorias de erro são usadas para agrupar erros para o usuário final.</span><span class="sxs-lookup"><span data-stu-id="e888f-147">Error categories are used to group errors for the end-user.</span></span> <span data-ttu-id="e888f-148">Windows PowerShell define essas categorias e cmdlets e provedores do Windows PowerShell devem escolher entre elas durante a geração de registro de erro.</span><span class="sxs-lookup"><span data-stu-id="e888f-148">Windows PowerShell defines these categories and cmdlets and Windows PowerShell providers must choose between them when generating the error record.</span></span>

<span data-ttu-id="e888f-149">Para obter uma descrição das categorias de erro que estão disponíveis, consulte o [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeração.</span><span class="sxs-lookup"><span data-stu-id="e888f-149">For a description of the error categories that are available, see the [System.Management.Automation.Errorcategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="e888f-150">Em geral, você deve evitar usar NoError, UndefinedError e erro genérico sempre que possível.</span><span class="sxs-lookup"><span data-stu-id="e888f-150">In general, you should avoid using NoError, UndefinedError, and GenericError whenever possible.</span></span>

<span data-ttu-id="e888f-151">Os usuários podem exibir erros com base na categoria quando eles definem "`$ErrorView`" para "CategoryView".</span><span class="sxs-lookup"><span data-stu-id="e888f-151">Users can view errors based on category when they set "`$ErrorView`" to "CategoryView".</span></span>

## <a name="see-also"></a><span data-ttu-id="e888f-152">Consulte Também</span><span class="sxs-lookup"><span data-stu-id="e888f-152">See Also</span></span>

[<span data-ttu-id="e888f-153">Cmdlets do Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="e888f-153">Windows PowerShell Cmdlets</span></span>](./cmdlet-overview.md)

[<span data-ttu-id="e888f-154">Saída do cmdlet</span><span class="sxs-lookup"><span data-stu-id="e888f-154">Cmdlet Output</span></span>](./types-of-cmdlet-output.md)

[<span data-ttu-id="e888f-155">Shell do Windows PowerShell do SDK</span><span class="sxs-lookup"><span data-stu-id="e888f-155">Windows PowerShell Shell SDK</span></span>](../windows-powershell-reference.md)
