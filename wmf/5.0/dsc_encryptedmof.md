---
ms.date: 2017-06-12
author: JKeithB
ms.topic: reference
keywords: "wmf,powershell,instalação"
ms.openlocfilehash: d19f3c47af858eb18a39847050f80ffa013c59bb
ms.sourcegitcommit: 75f70c7df01eea5e7a2c16f9a3ab1dd437a1f8fd
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/12/2017
---
# <a name="mof-documents-are-encrypted-by-default"></a><span data-ttu-id="32469-102">Documentos MOF são criptografados por padrão</span><span class="sxs-lookup"><span data-stu-id="32469-102">MOF Documents Are Encrypted By Default</span></span>

<span data-ttu-id="32469-103">Documentos de configuração contêm informações confidenciais.</span><span class="sxs-lookup"><span data-stu-id="32469-103">Configuration documents contain sensitive information.</span></span> <span data-ttu-id="32469-104">Nas versões anteriores do DSC, era necessário distribuir e gerenciar certificados para proteger as credenciais em uma configuração.</span><span class="sxs-lookup"><span data-stu-id="32469-104">In previous versions of DSC you were required to distribute and manage certificates in order to secure credentials within a configuration.</span></span> <span data-ttu-id="32469-105">Para muitas pessoas, essa era uma carga de gerenciamento significativa e, mesmo com todo o trabalho necessário para fazer isso, ainda faltavam algumas informações de configuração que não eram e não poderiam ser protegidas.</span><span class="sxs-lookup"><span data-stu-id="32469-105">For many, this was a significant management burden and even with all of the work it took to do this you were still left with some configuration information that was not and could not be secured.</span></span> 

<span data-ttu-id="32469-106">Isso não acontece mais, pois **todos os MOFs de configuração são protegidos por padrão**.</span><span class="sxs-lookup"><span data-stu-id="32469-106">That is no longer the case because **all configuration MOFs are secured by default**.</span></span> <span data-ttu-id="32469-107">Nenhum certificado ou definição de metaconfiguração é necessário.</span><span class="sxs-lookup"><span data-stu-id="32469-107">No certificates or meta-configuration settings are needed.</span></span> <span data-ttu-id="32469-108">Sempre que um MOF de configuração é salvo em disco pelo LCM (Gerenciador de Configurações Local) em um nó de destino, ele é criptografado.</span><span class="sxs-lookup"><span data-stu-id="32469-108">Any time a configuration MOF is saved to disk by the Local Configuration Manager (LCM) on a target node, it is encrypted.</span></span> <span data-ttu-id="32469-109">Os MOFs são criptografados usando o [DPAPI](https://msdn.microsoft.com/en-us/library/ms995355.aspx).</span><span class="sxs-lookup"><span data-stu-id="32469-109">The MOFs are encrypted using [DPAPI](https://msdn.microsoft.com/en-us/library/ms995355.aspx).</span></span> <span data-ttu-id="32469-110">**Observação:** os MOFs gerados por um script de configuração não são criptografados.</span><span class="sxs-lookup"><span data-stu-id="32469-110">**Note:** MOFs generated by a configuration script are not encrypted.</span></span>

<span data-ttu-id="32469-111">**Exemplo:** criptografia no modo de envio por push ![Criptografia MOF](../images/MOF_Encryption.jpg)</span><span class="sxs-lookup"><span data-stu-id="32469-111">**Example:** Encryption in push mode ![MOF Encryption](../images/MOF_Encryption.jpg)</span></span>

<span data-ttu-id="32469-112">Se já estiver usando o método de certificado para criptografar senhas ou se precisar de segurança adicional para suas senhas, o [método existente de criptografia baseada em certificado](https://msdn.microsoft.com/en-us/powershell/dsc/securemof) continuará funcionando.</span><span class="sxs-lookup"><span data-stu-id="32469-112">If you are already using the certificate method for encrypting passwords or if you need additional security for your passwords, the [existing method of certificate based encryption](https://msdn.microsoft.com/en-us/powershell/dsc/securemof) will continue to work.</span></span> <span data-ttu-id="32469-113">O resultado será um documento MOF totalmente criptografado usando os DPAPIs e que, além disso, terá senhas criptografadas internas.</span><span class="sxs-lookup"><span data-stu-id="32469-113">The result will be a MOF document that is fully encrypted using the DPAPIs and additionally have passwords encrypted within it.</span></span>

<span data-ttu-id="32469-114">Essa criptografia se aplica somente a documentos MOF de configuração (pending.mof, current.mof, previous.mof e MOFs parciais).</span><span class="sxs-lookup"><span data-stu-id="32469-114">This encryption only applies to configuration MOF documents (pending.mof, current.mof, previous.mof and partial MOFs).</span></span> <span data-ttu-id="32469-115">MOFs de metaconfiguração ainda são salvos em texto sem formatação, já que é menos provável que ele contenha segredos.</span><span class="sxs-lookup"><span data-stu-id="32469-115">Meta-configuration MOFs are still saved in plain text since they less likely contain secrets.</span></span>

